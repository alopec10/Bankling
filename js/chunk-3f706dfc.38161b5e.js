(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f706dfc"],{"40cd":function(t,e,i){"use strict";i("c048")},"5b17":function(t,e,i){"use strict";i("724b")},6923:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:""}},[i("v-row",{staticStyle:{"margin-top":"5px","margin-right":"15px","margin-left":"15px","margin-bottom":"5px"},attrs:{justify:"center",align:"center"}},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-text-field",t._g(t._b({staticClass:"tf",attrs:{label:"Fecha de inicio",readonly:""},model:{value:t.initialDate,callback:function(e){t.initialDate=e},expression:"initialDate"}},"v-text-field",n,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[i("v-date-picker",{attrs:{landscape:!0},on:{input:t.filterInitialDate},model:{value:t.initialDate,callback:function(e){t.initialDate=e},expression:"initialDate"}})],1),i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-text-field",t._g(t._b({staticClass:"tf",attrs:{label:"Fecha de fin",readonly:"","error-messages":t.finalDateErrors},model:{value:t.finalDate,callback:function(e){t.finalDate=e},expression:"finalDate"}},"v-text-field",n,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-date-picker",{attrs:{landscape:!0},on:{input:function(e){t.$v.finalDate.$touch(),t.filterFinalDate()},blur:function(e){return t.$v.finalDate.$touch()}},model:{value:t.finalDate,callback:function(e){t.finalDate=e},expression:"finalDate"}})],1),i("div",{staticStyle:{"margin-top":"-15px"}},[i("v-btn",{attrs:{large:"",elevation:"2",color:"primary"},on:{click:t.clear}},[t._v("Limpiar")])],1)],1),i("div",{staticClass:"elevation-20",staticStyle:{border:"3px solid #13314a","border-radius":"20px","padding-right":"20px","padding-left":"20px","margin-bottom":"20px","margin-right":"30px","margin-left":"30px"}},[i("v-row",{attrs:{justify:"center",align:"center",width:"90%"}},[i("v-col",{attrs:{sm:"12",md:"6"}},[i("Balance",{staticStyle:{"z-index":"1"},attrs:{movements:t.totalMovs,initialDate:t.initialDate,finalDate:t.finalDate,link:!1}})],1),i("v-col",{staticClass:"text-center d-flex justify-space-around",attrs:{sm:"12",md:"6"}},[i("div",[i("Donut",{attrs:{movements:t.movs,link:!1}})],1)])],1)],1),i("div",{staticClass:"elevation-20",staticStyle:{border:"3px solid #13314a","border-radius":"20px","padding-right":"20px","padding-left":"20px","margin-bottom":"20px","margin-right":"30px","margin-left":"30px"}},[i("v-row",{staticClass:"mt-1.5"},[i("v-col",{attrs:{sm:"12",md:"6"}},[i("Multiple",{attrs:{movs:t.movs,initialDate:t.initialDate,finalDate:t.finalDate}})],1),i("v-col",{attrs:{sm:"12",md:"6"}},[i("Column",{staticStyle:{"z-index":"1"},attrs:{initialDate:t.initialDateColumn,finalDate:t.finalDateColumn}})],1)],1)],1),i("v-btn",{staticClass:"mb-14",staticStyle:{"font-size":"2em","z-index":"5"},attrs:{fab:"",dark:"",large:"",color:"primary",fixed:"",right:"",bottom:""},on:{click:function(e){t.dialog=!0}}},[t._v("?")]),i("Help",{attrs:{title:"GRÁFICOS"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)},n=[],r=(i("4de4"),i("2909")),s=i("5530"),o=i("a976"),l=i("3225"),u=i("5900"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"area"}},[t._m(0),i("apexchart",{attrs:{type:"bar",height:"350",options:t.chartOptions,series:t.series}})],1)},f=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center"},[i("h2",{staticClass:"title"},[t._v(" AGRUPACIÓN DE MOVIMIENTOS ")])])}],h=(i("4160"),i("caad"),i("a15b"),i("ac1f"),i("2532"),i("1276"),i("498a"),i("159b"),i("1321")),m=i.n(h),v=i("2f62");function d(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function D(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function p(t){D(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"===typeof t||"[object Number]"===e?new Date(t):("string"!==typeof t&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function g(t,e){D(2,arguments);var i=p(t),a=d(e);return isNaN(a)?new Date(NaN):a?(i.setDate(i.getDate()+a),i):i}function w(t,e){D(2,arguments);var i=p(t),a=d(e);if(isNaN(a))return new Date(NaN);if(!a)return i;var n=i.getDate(),r=new Date(i.getTime());r.setMonth(i.getMonth()+a+1,0);var s=r.getDate();return n>=s?r:(i.setFullYear(r.getFullYear(),r.getMonth(),n),i)}function b(t,e){if(D(2,arguments),!e||"object"!==typeof e)return new Date(NaN);var i="years"in e?d(e.years):0,a="months"in e?d(e.months):0,n="weeks"in e?d(e.weeks):0,r="days"in e?d(e.days):0,s="hours"in e?d(e.hours):0,o="minutes"in e?d(e.minutes):0,l="seconds"in e?d(e.seconds):0,u=p(t),c=a||i?w(u,a+12*i):u,f=r||n?g(c,r+7*n):c,h=o+60*s,m=l+60*h,v=1e3*m,b=new Date(f.getTime()+v);return b}function y(t){D(1,arguments);var e=p(t),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(0,0,0,0),e}function x(t,e){D(1,arguments);var i=t||{},a=p(i.start),n=p(i.end),r=n.getTime();if(!(a.getTime()<=r))throw new RangeError("Invalid interval");var s=[],o=a;o.setHours(0,0,0,0);var l=e&&"step"in e?Number(e.step):1;if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");while(o.getTime()<=r)s.push(p(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return s}function O(t,e){D(2,arguments);var i=d(e),a=7*i;return g(t,a)}function S(t,e){D(1,arguments);var i=e||{},a=i.locale,n=a&&a.options&&a.options.weekStartsOn,r=null==n?0:d(n),s=null==i.weekStartsOn?r:d(i.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var o=p(t),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function M(t,e){D(1,arguments);var i=t||{},a=p(i.start),n=p(i.end),r=n.getTime();if(!(a.getTime()<=r))throw new RangeError("Invalid interval");var s=S(a,e),o=S(n,e);s.setHours(15),o.setHours(15),r=o.getTime();var l=[],u=s;while(u.getTime()<=r)u.setHours(0),l.push(p(u)),u=O(u,1),u.setHours(15);return l}function k(t){D(1,arguments);var e=t||{},i=p(e.start),a=p(e.end),n=a.getTime();if(!(i.getTime()<=n))throw new RangeError("Invalid interval");var r=[],s=i;s.setHours(0,0,0,0),s.setDate(1);while(s.getTime()<=n)r.push(p(s)),s.setMonth(s.getMonth()+1);return r}var C={name:"Column",components:{apexchart:m.a},props:{initialDate:String,finalDate:String},created:function(){this.movs=Object(r["a"])(this.uniqueMovements),this.filteredMovs=Object(r["a"])(this.uniqueMovements),this.calcInterval()},watch:{initialDate:function(){this.calcInterval()},finalDate:function(){this.calcInterval()}},computed:Object(s["a"])({movements:function(){return this.filteredMovs.sort((function(t,e){var i=new Date(t.date),a=new Date(e.date);return i>a?1:i<a?-1:0}))},series:function(){var t=this,e=[{name:"Ocio",data:[]},{name:"Servicios",data:[]},{name:"Compras",data:[]},{name:"Otro",data:[]}],i=0,a=0;return this.times.forEach((function(n){var r,s=new Date(n),o=new Date(t.times[i+1]);if(r=a<t.movements.length?new Date(t.movements[a].date):new Date(t.movements[t.movements.length-1].date),e[0].data.push(0),e[1].data.push(0),e[2].data.push(0),e[3].data.push(0),26==s.getDate())t.movements[a];while(a<t.movements.length&&s.getTime()<=r.getTime()){var l=t.movements[a];if(!("Invalid Date"!=o&&r.getTime()<o.getTime()||"Invalid Date"==o))break;"Ocio"===l.category?e[0].data[i]+=l.amount:"Servicios"===l.category?e[1].data[i]+=l.amount:"Compras"===l.category?e[2].data[i]+=l.amount:"Otro"===l.category&&(e[3].data[i]+=l.amount),a++,a<t.movements.length&&(r=new Date(t.movements[a].date))}i++})),e},chartOptions:function(){var t={chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},colors:[this.colOcio,this.colServicios,this.colCompras,this.colOtro],responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1}},xaxis:{type:"datetime",categories:this.times},legend:{position:"bottom",offsetY:7},fill:{opacity:1},tooltip:{x:{format:"dd/MM/yy"}}};return t},filters:function(){var t={initialDate:null,finalDate:null,type:"Gasto"};if("Day"==this.interval)t.initialDate=this.initialDate,t.finalDate=this.finalDate;else if("Week"==this.interval){t.initialDate=this.times[0];var e=this.times[this.times.length-1],i=b(new Date(e),{days:6}),a=i.toLocaleDateString(),n=a.split("/"),r=n.reverse();t.finalDate=r.join("-")}else{t.initialDate=this.times[0];var s=this.times[this.times.length-1],o=(i=y(new Date(s)),i.toLocaleDateString()),l=o.split("/"),u=l.reverse();t.finalDate=u.join("-")}return t}},Object(v["c"])(["uniqueMovements","colOcio","colServicios","colCompras","colOtro"])),data:function(){return{interval:"Day",filteredMovs:[],movs:[],times:[]}},methods:{calcInterval:function(){var t=(new Date(this.finalDate).getTime()-new Date(this.initialDate).getTime())/864e5;t<=31?(this.interval="Day",this.fillDays()):t<90?(this.interval="Week",this.fillWeeks()):(this.interval="Month",this.fillMonths())},fillDays:function(){var t=this;this.times=[];var e=x({start:new Date(this.initialDate),end:new Date(this.finalDate)});e.forEach((function(e){var i=new Date(e);i=i.toLocaleDateString();var a=i.split("/"),n=a.reverse();t.times.push(n.join("-"))})),this.filterMovs()},fillWeeks:function(){var t=this;this.times=[];var e=M({start:new Date(this.initialDate),end:new Date(this.finalDate)},{weekStartsOn:1});e.forEach((function(e){var i=new Date(e);i=i.toLocaleDateString();var a=i.split("/"),n=a.reverse();t.times.push(n.join("-"))})),this.filterMovs()},fillMonths:function(){var t=this;this.times=[];var e=k({start:new Date(this.initialDate),end:new Date(this.finalDate)});e.forEach((function(e){var i=new Date(e);i=i.toLocaleDateString();var a=i.split("/"),n=a.reverse();new Date(n.join("-"));t.times.push(n.join("-"))})),this.filterMovs()},filterMovs:function(){var t=new this.$MultiFilters(this.movs,this.filters);this.movs;t.registerFilter("initialDate",(function(t,e){if(""===t||null===t)return e;var i=new Date(t);return e.filter((function(t){var e=new Date(t.date);return e>=i}),t)})),t.registerFilter("finalDate",(function(t,e){if(""===t||null===t)return e;var i=new Date(t);return e.filter((function(t){var e=new Date(t.date);return e<=i}),t)})),t.registerFilter("type",(function(t,e){return""===t.trim()?e:e.filter((function(e){return e.type.toLowerCase().includes(t.toLowerCase())}),t)})),this.filteredMovs=t.runFilters()}}},j=C,F=(i("40cd"),i("2877")),T=Object(F["a"])(j,c,f,!1,null,"767ed07e",null),E=T.exports,I=i("ce57"),N=i("ca2c"),$=i("1dce"),_={name:"Charts",mixins:[$["validationMixin"]],validations:{finalDate:{isAfter:function(t){if(""===this.initialDate||null===this.initialDate||""===this.finalDate||null===this.finalDate)return!0;var e=new Date(this.initialDate),i=new Date(t);return i>e}}},components:{VueApexCharts:m.a,Balance:o["a"],Pie:l["a"],Column:E,Multiple:I["a"],Donut:u["a"],Help:N["a"]},computed:Object(s["a"])({finalDateErrors:function(){var t=[];return this.$v.finalDate.$dirty?(!this.$v.finalDate.isAfter&&t.push("La fecha de fin debe ser posterior a la de inicio."),t):t},initialDateColumn:function(){if(""===this.initialDate||void 0==this.initialDate||null==this.initialDate){var t=Object(r["a"])(this.uniqueMovements);return t.sort((function(t,e){var i=new Date(t.date),a=new Date(e.date);return i>a?1:i<a?-1:0})),t[0].date}return this.initialDate},finalDateColumn:function(){if(""===this.finalDate||void 0==this.finalDate||null==this.finalDate){var t=Object(r["a"])(this.uniqueMovements);return t.sort((function(t,e){var i=new Date(t.date),a=new Date(e.date);return i>a?1:i<a?-1:0})),t[t.length-1].date}return this.finalDate}},Object(v["c"])(["uniqueMovements"])),mounted:function(){},created:function(){this.movs=Object(r["a"])(this.uniqueMovements),this.totalMovs=this.movs,this.finalDate=(new Date).toISOString().substr(0,10),this.initialDate=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-30).toISOString().substr(0,10),this.filterStart()},data:function(){return{movs:[],totalMovs:[],menu1:!1,menu:!1,initialDate:"",finalDate:"",filters:{initialDate:"",finalDate:""},dialog:!1}},methods:{filter:function(){if(this.$v.$touch(),!this.$v.$invalid){var t=new this.$MultiFilters(this.uniqueMovements,this.filters);Object(r["a"])(this.uniqueMovements);t.registerFilter("initialDate",(function(t,e){if(""===t||null===t)return e;var i=new Date(t);return e.filter((function(t){var e=new Date(t.date);return e>=i}),t)})),t.registerFilter("finalDate",(function(t,e){if(""===t||null===t)return e;var i=new Date(t);return e.filter((function(t){var e=new Date(t.date);return e<=i}),t)})),this.movs=t.runFilters()}},filterInitialDate:function(){this.menu1=!1,this.filters=this.$MultiFilters.updateFilters(this.filters,{initialDate:this.initialDate}),this.filter()},filterFinalDate:function(){this.menu=!1,this.filters=this.$MultiFilters.updateFilters(this.filters,{finalDate:this.finalDate}),this.filter()},filterStart:function(){this.filters=this.$MultiFilters.updateFilters(this.filters,{initialDate:this.initialDate}),this.filters=this.$MultiFilters.updateFilters(this.filters,{finalDate:this.finalDate}),this.filter()},clear:function(){this.$v.$reset(),this.initialDate="",this.finalDate="",this.movs=Object(r["a"])(this.uniqueMovements),this.filters={initialDate:"",finalDate:""}}}},q=_,H=(i("5b17"),i("6544")),L=i.n(H),R=i("8336"),V=i("62ad"),z=i("a523"),A=i("2e4b"),Y=i("e449"),G=i("0fd9"),P=i("8654"),W=Object(F["a"])(q,a,n,!1,null,null,null);e["default"]=W.exports;L()(W,{VBtn:R["a"],VCol:V["a"],VContainer:z["a"],VDatePicker:A["a"],VMenu:Y["a"],VRow:G["a"],VTextField:P["a"]})},"724b":function(t,e,i){},c048:function(t,e,i){},ce0e:function(t,e,i){},ce57:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"multiple"}},[t._m(0),i("apexchart",{attrs:{type:"line",height:"320",options:t.chartOptions,series:t.series}})],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center"},[i("h2",{staticClass:"title"},[t._v(" EVOLUCIÓN DE GASTOS POR CATEGORÍA ")])])}],r=(i("4160"),i("caad"),i("159b"),i("2909")),s=i("5530"),o=i("1321"),l=i.n(o),u=i("2f62"),c={name:"Multiple",components:{apexchart:l.a},props:{movs:{type:Array,required:!0},initialDate:String,finalDate:String},mounted:function(){this.movements.sort((function(t,e){var i=new Date(t.date),a=new Date(e.date);return i>a?1:i<a?-1:0}))},computed:Object(s["a"])({movements:function(){return this.movs.sort((function(t,e){var i=new Date(t.date),a=new Date(e.date);return i>a?1:i<a?-1:0}))},dates:function(){if(void 0===this.movements||0===this.movements.length)return[];var t,e,i=[];for(t=""===this.initialDate||void 0===this.initialDate||null===this.initialDate?new Date(this.movements[0].date):new Date(this.initialDate),e=""===this.finalDate||void 0===this.finalDate||null===this.finalDate?new Date(this.movements[this.movements.length-1].date):new Date(this.finalDate),t;t<=e;t.setDate(t.getDate()+1))i.push(new Date(t).toISOString().substr(0,10));return i.includes(e.toISOString().substr(0,10))||i.push(e.toISOString().substr(0,10)),i},series:function(){var t=this,e=Object(r["a"])(this.dates);if(0===e.length)return[];var i=[{name:"Ocio",data:[]},{name:"Servicios",data:[]},{name:"Compras",data:[]},{name:"Otro",data:[]}],a=0,n=0,s=0,o=0,l=0,u=0;return e.forEach((function(e){i[0].data.push(a),i[1].data.push(n),i[2].data.push(s),i[3].data.push(o);var r,c=new Date(e);r=u<t.movements.length?new Date(t.movements[u].date):new Date(t.movements[t.movements.length-1].date);while(u<t.movements.length&&c.getTime()===r.getTime()){var f=t.movements[u];"Gasto"===f.type&&("Ocio"===f.category?(i[0].data[l]+=f.amount,a+=f.amount):"Servicios"===f.category?(i[1].data[l]+=f.amount,n+=f.amount):"Compras"===f.category?(i[2].data[l]+=f.amount,s+=f.amount):"Otro"===f.category&&(i[3].data[l]+=f.amount,o+=f.amount)),u++,u<t.movements.length&&(r=new Date(t.movements[u].date))}l++})),i},chartOptions:function(){var t={chart:{height:350,type:"line",toolbar:{show:!0},zoom:{enabled:!0}},colors:[this.colOcio,this.colServicios,this.colCompras,this.colOtro],dataLabels:{enabled:!1},stroke:{width:[5,5,5,5],curve:"straight"},legend:{offsetY:7,tooltipHoverFormatter:function(t,e){return t+" - "+e.w.globals.series[e.seriesIndex][e.dataPointIndex]}},markers:{size:0,hover:{sizeOffset:6}},xaxis:{categories:this.dates,type:"datetime"},tooltip:{x:{format:"dd/MM/yy"},y:[{title:{formatter:function(t){return t}}},{title:{formatter:function(t){return t}}},{title:{formatter:function(t){return t}}}]},grid:{borderColor:"#f1f1f1"}};return t}},Object(u["c"])(["colOcio","colServicios","colCompras","colOtro"])),data:function(){return{}}},f=c,h=(i("e103"),i("2877")),m=Object(h["a"])(f,a,n,!1,null,"5684d5e4",null);e["a"]=m.exports},e103:function(t,e,i){"use strict";i("ce0e")}}]);
//# sourceMappingURL=chunk-3f706dfc.38161b5e.js.map